2023-03-22 11:25:29 [    INFO] powergenome:163 Reading settings file
2023-03-22 11:25:29 [    INFO] powergenome:174 Initiating PUDL connections
2023-03-22 11:25:29 [ WARNING] powergenome.util:220 
    *****************************
    The ATB technology "NaturalGas_CCCCSAvgCF" listed in your settings file under 'atb_new_gen'
    is not fully specified in the 'cost_multiplier_technology_map' settings parameter.
    Part of the <tech>_<tech_detail> string might be included, but it is best practice to
    include the full name in this format. Check your settings file.
        
2023-03-22 11:25:30 [    INFO] powergenome:204 Sorted zones are BASN, CANO, CASO, FRCC, ISNE, MISC, MISE, MISS, MISW, NWPP, NYCW, NYUP, PJMC, PJMD, PJME, PJMW, RMRG, SPPC, SPPN, SPPS, SRCA, SRCE, SRSE, SRSG, TRE, TREW
2023-03-22 11:25:39 [    INFO] powergenome.generators:2791 Loading map of plants to IPM regions
2023-03-22 11:25:48 [ WARNING] powergenome.generators:829 ********************************
When adding plant entity/boiler info to generators and filling missing seasonal capacity values, technologyCoal Integrated Gasification Combined Cycle changed capacity from 618.0 to 804.5
********************************
2023-03-22 11:25:48 [ WARNING] powergenome.generators:829 ********************************
When adding plant entity/boiler info to generators and filling missing seasonal capacity values, technologyConventional Hydroelectric changed capacity from 77679.1 to 77869.7
********************************
2023-03-22 11:25:48 [ WARNING] powergenome.generators:829 ********************************
When adding plant entity/boiler info to generators and filling missing seasonal capacity values, technologyNatural Gas Fired Combined Cycle changed capacity from 251003.3 to 254360.1
********************************
2023-03-22 11:25:48 [ WARNING] powergenome.generators:829 ********************************
When adding plant entity/boiler info to generators and filling missing seasonal capacity values, technologyNatural Gas Fired Combustion Turbine changed capacity from 129996.0 to 132511.6
********************************
2023-03-22 11:25:48 [ WARNING] powergenome.generators:829 ********************************
When adding plant entity/boiler info to generators and filling missing seasonal capacity values, technologyNatural Gas Steam Turbine changed capacity from 65492.9 to 65784.0
********************************
2023-03-22 11:25:48 [ WARNING] powergenome.generators:829 ********************************
When adding plant entity/boiler info to generators and filling missing seasonal capacity values, technologyPetroleum Liquids changed capacity from 23426.3 to 23483.7
********************************
2023-03-22 11:25:48 [ WARNING] powergenome.generators:829 ********************************
When adding plant entity/boiler info to generators and filling missing seasonal capacity values, technologySolar Photovoltaic changed capacity from 23500.7 to 23598.8
********************************
2023-03-22 11:25:48 [    INFO] powergenome.generators:532 Changing retirement dates based on settings file
2023-03-22 11:25:48 [    INFO] powergenome.generators:537 Starting retirement capacity is 87119.9 MW
2023-03-22 11:25:49 [    INFO] powergenome.generators:559 Ending retirement capacity is 88855.4 MW
2023-03-22 11:25:49 [    INFO] powergenome.generators:569 The retirement year for 162 plants, totaling 10878.7 MW, was changed based on settings file parameters
2023-03-22 11:25:49 [    INFO] powergenome.generators:3035 Loading heat rate data for units and generator/fuel combinations
2023-03-22 11:26:02 [    INFO] powergenome.generators:3057 Units model technologies are ['Biomass', 'Batteries', 'Solar Photovoltaic', 'Natural Gas Fired Combustion Turbine', 'Onshore Wind Turbine', 'Petroleum Liquids', 'Natural Gas Internal Combustion Engine', 'Small Hydroelectric', 'Other Natural Gas', 'Natural Gas Fired Combined Cycle', 'All Other', 'Geothermal', 'Natural Gas Steam Turbine', 'Offshore Wind Turbine', 'Petroleum Coke', 'Other Gases', 'Hydroelectric Pumped Storage', 'Flywheels', 'Conventional Hydroelectric', 'Solar Thermal without Energy Storage', 'Solar Thermal with Energy Storage', 'Conventional Steam Coal', 'Nuclear', 'Natural Gas with Compressed Air Storage', 'Coal Integrated Gasification Combined Cycle']
2023-03-22 11:26:02 [    INFO] powergenome.generators:3063 Assigning technology/fuel heat rates where unit heat rates are not available
2023-03-22 11:26:02 [    INFO] powergenome.generators:3112 Units model technologies are ['Biomass', 'Batteries', 'Solar Photovoltaic', 'Natural Gas Fired Combustion Turbine', 'Onshore Wind Turbine', 'Petroleum Liquids', 'Natural Gas Internal Combustion Engine', 'Small Hydroelectric', 'Other Natural Gas', 'Natural Gas Fired Combined Cycle', 'All Other', 'Geothermal', 'Natural Gas Steam Turbine', 'Offshore Wind Turbine', 'Petroleum Coke', 'Other Gases', 'Hydroelectric Pumped Storage', 'Flywheels', 'Conventional Hydroelectric', 'Solar Thermal without Energy Storage', 'Solar Thermal with Energy Storage', 'Conventional Steam Coal', 'Nuclear', 'Natural Gas with Compressed Air Storage', 'Coal Integrated Gasification Combined Cycle']
2023-03-22 11:26:02 [    INFO] powergenome.generators:3117 Before adding proposed generators, 17180 units with 1000238.0000000001 MW capacity
2023-03-22 11:26:02 [    INFO] powergenome.generators:1851 0 generators were added to the planned list based on settings
2023-03-22 11:26:02 [    INFO] powergenome.generators:574 No retirement dates changed based on the settings file
2023-03-22 11:26:07 [    INFO] powergenome.generators:574 No retirement dates changed based on the settings file
2023-03-22 11:26:07 [    INFO] powergenome.generators:3145 Proposed gen technologies are ['Solar Photovoltaic']
2023-03-22 11:26:07 [    INFO] powergenome.generators:3149 500.0 MW proposed
2023-03-22 11:26:08 [ WARNING] powergenome.generators:2583 The settings parameter 'energy_storage_duration', technology 'Batteries' has the region 'FRCC', which is not one of your model regions.
2023-03-22 11:26:09 [    INFO] powergenome.generators:3200 Calculating plant O&M costs
2023-03-22 11:26:09 [    INFO] powergenome.nrelatb:407 Adding fixed and variable O&M for existing plants
2023-03-22 11:26:15 [    INFO] powergenome.generators:3218 After adding proposed generators, 17015 units with 995252.1000000001 MW capacity
2023-03-22 11:26:15 [    INFO] powergenome.generators:3255 Creating technology clusters by region
2023-03-22 11:26:16 [    INFO] powergenome.generators:3294 
    *****************************
    The technology Conventional Steam Coal in region CASO has only 1 operating units,
    which is less than the 2 clusters you specified.
    The number of clusters has been set equal to the number of units.
    *****************************
                            
2023-03-22 11:26:25 [    INFO] powergenome.generators:3364 Finalizing generation clusters
2023-03-22 11:26:25 [    INFO] powergenome.generators:3366 Results technologies are ['Biomass', 'Conventional Hydroelectric', 'Conventional Steam Coal', 'Geothermal', 'Natural Gas Fired Combined Cycle', 'Natural Gas Fired Combustion Turbine', 'Natural Gas Internal Combustion Engine', 'Natural Gas Steam Turbine', 'Onshore Wind Turbine', 'Petroleum Liquids', 'Small Hydroelectric', 'Solar Photovoltaic', 'Batteries', 'Hydroelectric Pumped Storage', 'Nuclear', 'Offshore Wind Turbine']
2023-03-22 11:26:32 [    INFO] powergenome.generators:3436 
 **************** 
Distributed generation is being added as generating resources. The capacity of DG in each region is increased by 4.530000% to account for no distribution losses.

2023-03-22 11:26:32 [    INFO] powergenome.generators:248 Adding non-fuel startup costs
2023-03-22 11:26:32 [    INFO] powergenome.generators:255 Changing non-fuel VOM costs from 2011 to 2020
2023-03-22 11:26:32 [    INFO] powergenome.generators:268 Changing non-fuel startup costs from 2011 to 2020
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for CapRes_1 ('CapRes_1')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_1 ('ESR_1')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_2 ('ESR_2')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_3 ('ESR_3')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_4 ('ESR_4')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_5 ('ESR_5')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_6 ('ESR_6')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_7 ('ESR_7')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_8 ('ESR_8')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_9 ('ESR_9')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_10 ('ESR_10')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_11 ('ESR_11')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_12 ('ESR_12')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_13 ('ESR_13')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_14 ('ESR_14')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_15 ('ESR_15')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_16 ('ESR_16')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_1 ('MinCapTag_1')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_2 ('MinCapTag_2')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_3 ('MinCapTag_3')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_4 ('MinCapTag_4')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_5 ('MinCapTag_5')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for Retro1_Source ('Retro1_Source')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for Retro1_Inv_Cost_per_MWyr ('Retro1_Inv_Cost_per_MWyr')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for Retro2_Source ('Retro2_Source')
2023-03-22 11:26:32 [ WARNING] powergenome.generators:1423 No model tag values found for Retro2_Inv_Cost_per_MWyr ('Retro2_Inv_Cost_per_MWyr')
2023-03-22 11:26:37 [    INFO] powergenome.nrelatb:63 Loading NREL ATB data
2023-03-22 11:26:38 [    INFO] powergenome.nrelatb:169 Using UtilityPV Market WACC for Battery storage.
2023-03-22 11:26:39 [    INFO] powergenome.nrelatb:254 PV costs are already in AC units, not inflating the cost.
2023-03-22 11:26:39 [    INFO] powergenome.nrelatb:1053 Creating new resources for each region.
2023-03-22 11:26:40 [    INFO] powergenome.generators:248 Adding non-fuel startup costs
2023-03-22 11:26:40 [    INFO] powergenome.generators:255 Changing non-fuel VOM costs from 2011 to 2020
2023-03-22 11:26:40 [    INFO] powergenome.generators:268 Changing non-fuel startup costs from 2011 to 2020
2023-03-22 11:26:40 [    INFO] powergenome.external_data:162 Inflating external interconnect annuity costs from 2017 to 2020
2023-03-22 11:26:40 [ WARNING] powergenome.generators:2454 Transmission investment costs are missing or zero for some resources and will not be included in the total investment costs.
2023-03-22 11:26:41 [ WARNING] powergenome.load_construction:153 No incremental factor available for Residential/space heating and cooling in year 2045: using factors from year 2040 instead.
2023-03-22 11:26:42 [ WARNING] powergenome.load_construction:153 No incremental factor available for Residential/water heating in year 2045: using factors from year 2040 instead.
2023-03-22 11:26:43 [ WARNING] powergenome.load_construction:153 No incremental factor available for Commercial/space heating and cooling in year 2045: using factors from year 2040 instead.
2023-03-22 11:26:44 [ WARNING] powergenome.load_construction:153 No incremental factor available for Commercial/water heating in year 2045: using factors from year 2040 instead.
2023-03-22 11:26:45 [ WARNING] powergenome.load_construction:153 No incremental factor available for Transportation/light-duty vehicles in year 2045: using factors from year 2040 instead.
2023-03-22 11:26:46 [ WARNING] powergenome.load_construction:153 No incremental factor available for Transportation/medium-duty trucks in year 2045: using factors from year 2040 instead.
2023-03-22 11:26:47 [ WARNING] powergenome.load_construction:153 No incremental factor available for Transportation/heavy-duty trucks in year 2045: using factors from year 2040 instead.
2023-03-22 11:26:48 [ WARNING] powergenome.load_construction:153 No incremental factor available for Transportation/transit buses in year 2045: using factors from year 2040 instead.
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for CapRes_1 ('CapRes_1')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_1 ('ESR_1')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_2 ('ESR_2')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_3 ('ESR_3')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_4 ('ESR_4')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_5 ('ESR_5')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_6 ('ESR_6')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_7 ('ESR_7')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_8 ('ESR_8')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_9 ('ESR_9')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_10 ('ESR_10')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_11 ('ESR_11')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_12 ('ESR_12')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_13 ('ESR_13')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_14 ('ESR_14')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_15 ('ESR_15')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for ESR_16 ('ESR_16')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_1 ('MinCapTag_1')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_2 ('MinCapTag_2')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_3 ('MinCapTag_3')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_4 ('MinCapTag_4')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for MinCapTag_5 ('MinCapTag_5')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for Retro1_Source ('Retro1_Source')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for Retro1_Inv_Cost_per_MWyr ('Retro1_Inv_Cost_per_MWyr')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for Retro2_Source ('Retro2_Source')
2023-03-22 11:26:52 [ WARNING] powergenome.generators:1423 No model tag values found for Retro2_Inv_Cost_per_MWyr ('Retro2_Inv_Cost_per_MWyr')
2023-03-22 11:26:54 [    INFO] powergenome.generators:3601 Capacity of 1573814.3382140454 MW in final clusters
2023-03-22 11:26:55 [ WARNING] powergenome.GenX:411 The resources ['res_water_heat_1', 'TREW_trans_light_duty_1', 'TREW_comm_space_heat_cool_1', 'trans_light_duty_1', 'res_space_heat_cool_1', 'TREW_comm_water_heat_1', 'TREW_res_space_heat_cool_1', 'comm_water_heat_1', 'TREW_res_water_heat_1', 'comm_space_heat_cool_1'] are not included in your `misc_gen_inputs_fn` CSV file. This is a warning in case they should have parameters in that file.
2023-03-22 11:27:00 [    INFO] powergenome:272 
Finished first round with year 2045 scenario p1

2023-03-22 11:27:00 [    INFO] powergenome.GenX:887 27 resources have Min_Power larger than hourly generation.
2023-03-22 11:27:00 [    INFO] powergenome.load_profiles:619 Loading load curves
2023-03-22 11:27:00 [ WARNING] powergenome.load_profiles:638 
            *****************************
            Regional load data sources have not been specified. Defaulting to EFS load data.
            Check your settings file, and please specify the preferred source for load data
            (FERC, EFS, USER) either for each region or for the entire system with the setting
            "regional_load_source".
            *****************************
            
2023-03-22 11:27:00 [    INFO] powergenome.load_profiles:122 Loading load curves from PUDL
2023-03-22 11:27:40 [    INFO] powergenome.load_profiles:186 Aggregating load curves in grouped regions
2023-03-22 11:27:41 [ WARNING] powergenome.load_construction:153 No incremental factor available for Residential/space heating and cooling in year 2045: using factors from year 2040 instead.
2023-03-22 11:27:42 [ WARNING] powergenome.load_construction:153 No incremental factor available for Residential/water heating in year 2045: using factors from year 2040 instead.
2023-03-22 11:27:43 [ WARNING] powergenome.load_construction:153 No incremental factor available for Commercial/space heating and cooling in year 2045: using factors from year 2040 instead.
2023-03-22 11:27:44 [ WARNING] powergenome.load_construction:153 No incremental factor available for Commercial/water heating in year 2045: using factors from year 2040 instead.
2023-03-22 11:27:44 [ WARNING] powergenome.load_construction:153 No incremental factor available for Transportation/light-duty vehicles in year 2045: using factors from year 2040 instead.
2023-03-22 11:27:45 [ WARNING] powergenome.load_construction:153 No incremental factor available for Transportation/medium-duty trucks in year 2045: using factors from year 2040 instead.
2023-03-22 11:27:46 [ WARNING] powergenome.load_construction:153 No incremental factor available for Transportation/heavy-duty trucks in year 2045: using factors from year 2040 instead.
2023-03-22 11:27:47 [ WARNING] powergenome.load_construction:153 No incremental factor available for Transportation/transit buses in year 2045: using factors from year 2040 instead.
2023-03-22 11:27:52 [ WARNING] powergenome.load_profiles:721 You have supplied regional load in an external file, but the load for some regions is missing. The regions set() are not included in the file. The load for these regions will not be included in output files.
2023-03-22 11:28:02 [ WARNING] powergenome.transmission:66 No transmission value column (e.g. firm vs non-firm) was specified in the settings. The column 'firm_ttc_mw' will be used as a default. This is a change from previous versions of PG, where 'nonfirm_ttc_mw' was used. Firm transmission capacity is lower or equal to non-firm capacity.
2023-03-22 11:28:02 [    INFO] powergenome.transmission:81 Loading transmission constraints from PUDL
2023-03-22 11:28:02 [ WARNING] powergenome.transmission:136 The user transmission capacity table duplicates values from the database. Database values will be discarded in favor of user values.
2023-03-22 11:28:02 [    INFO] powergenome.transmission:165 Map and aggregate region names for transmission constraints
2023-03-22 11:28:02 [    INFO] powergenome.transmission:186 Build a new transmission constraints dataframe with a single line between regions
210.70000000000002  MW without lat/lon
Creating gdf
['Solar Photovoltaic']
Creating gdf
[]
Traceback (most recent call last):
  File "/home/gm1710/PowerGenome/powergenome/run_powergenome_multiple_outputs_cli.py", line 510, in <module>
    main()
  File "/home/gm1710/PowerGenome/powergenome/run_powergenome_multiple_outputs_cli.py", line 417, in main
    energy_share_req = create_policy_req(_settings, col_str_match="ESR")
  File "/home/gm1710/PowerGenome/powergenome/GenX.py", line 66, in create_policy_req
    year_case_policy = policies.loc[(case_id, model_year), ["region"] + policy_cols]
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexing.py", line 925, in __getitem__
    return self._getitem_tuple(key)
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexing.py", line 1100, in _getitem_tuple
    return self._getitem_lowerdim(tup)
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexing.py", line 822, in _getitem_lowerdim
    return self._getitem_nested_tuple(tup)
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexing.py", line 906, in _getitem_nested_tuple
    obj = getattr(obj, self.name)._getitem_axis(key, axis=axis)
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexing.py", line 1164, in _getitem_axis
    return self._get_label(key, axis=axis)
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexing.py", line 1113, in _get_label
    return self.obj.xs(label, axis=axis)
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/generic.py", line 3770, in xs
    loc, new_index = index._get_loc_level(
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexes/multi.py", line 3084, in _get_loc_level
    return partial_selection(key)
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexes/multi.py", line 3071, in partial_selection
    indexer = self.get_loc(key)
  File "/home/gm1710/.conda/envs/powergenome/lib/python3.10/site-packages/pandas/core/indexes/multi.py", line 2945, in get_loc
    raise KeyError(key)
KeyError: ('p1', 2045)
